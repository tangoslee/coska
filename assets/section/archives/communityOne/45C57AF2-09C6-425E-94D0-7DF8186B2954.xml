<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<post>
    <author>Andrew</author>
    <comments/>
    <content>아래 소스는 개인의 급여를 계산하는 로직입니다..&#xD;
군살은 다 빼고요..&#xD;
캐나다도 마찬가지지만,, 특히 한국은 매년&#xD;
세율및 세율 계산 방법이 개정됩니다..&#xD;
그래서.. 세율계산은 공통모쥴로 만들수 없어서..&#xD;
매년 메인 프로그램에서 구현합니다..&#xD;
main program은 test package로 되어 있고..&#xD;
급여 계산 모쥴은 lib package로 공통 모쥴은 &#xD;
만들었습니다.&#xD;
--------------------------&#xD;
package test;&#xD;
&#xD;
import lib.PayCal;&#xD;
&#xD;
public class Pay2001&#xD;
{&#xD;
      public static int getTax(int totalPay)&#xD;
      {&#xD;
      	     double rate;&#xD;
&#xD;
             if ( totalPay &gt; 60000 ) rate = 0.5;&#xD;
             else&#xD;
             if ( totalPay &gt; 30000 ) rate = 0.4;&#xD;
&#xD;
             else                    rate = 0.3;&#xD;
&#xD;
&#xD;
      	     int     tax = (int)(totalPay * rate);&#xD;
             return tax;&#xD;
      }&#xD;
&#xD;
      public static void main(String[] args)&#xD;
      {&#xD;
      	     int myID = 100;&#xD;
             PayCal cal = new PayCal(myID);&#xD;
             cal.setExtraHours(10);&#xD;
             int netMoney = cal.getNetWage();&#xD;
             System.out.println(netMoney);&#xD;
      }&#xD;
&#xD;
&#xD;
}&#xD;
&#xD;
-----------------------------------------------&#xD;
package lib;&#xD;
&#xD;
import test.Pay2001;&#xD;
&#xD;
public class PayCal&#xD;
{&#xD;
      private int m_baseWage;&#xD;
      private int m_rate;&#xD;
&#xD;
      private int m_extraWage;&#xD;
      private int m_tax;&#xD;
&#xD;
      public PayCal(int id)&#xD;
      {&#xD;
      	   // search table in D/B... to get person rate  by id&#xD;
&#xD;
      	     m_rate = 60;&#xD;
      	     m_baseWage = m_rate * 80; /// 80 hours for 2 weeks.&#xD;
      }&#xD;
&#xD;
      public void setExtraHours(int p_hours) {&#xD;
      	     m_extraWage = (int)(p_hours * m_rate * 1.5);&#xD;
      }&#xD;
&#xD;
      public int getNetWage()&#xD;
      {&#xD;
      	      m_tax = Pay2001.getTax(m_baseWage+m_extraWage);&#xD;
      	      System.out.println(m_tax);&#xD;
      	      return (m_baseWage + m_extraWage - m_tax);&#xD;
      }&#xD;
&#xD;
&#xD;
&#xD;
}&#xD;
&#xD;
----------------------------------------------&#xD;
여기서 불만이 하나 있습니다.&#xD;
"import test.Pay2001;" 이부분은&#xD;
거의 공통모쥴에 대한 강한 반항이라고 볼수 있습니다.&#xD;
내년에는 import test.Pay2002해야 하나요? 우~~~ suck~~&#xD;
&#xD;
그래서...&#xD;
public static int getTax(int totalPay) 에서.&#xD;
static를 제거하겠습니다.&#xD;
--&gt; public int getTax(int totalPay)&#xD;
그러니.. 공통모쥴lib package 에서는 이함수를&#xD;
사용할수 없습니다..&#xD;
&#xD;
그러므로..lib package 에서 "import test.Pay2001;"도&#xD;
제거 하겠습니다.&#xD;
그러니.&#xD;
m_tax = Pay2001.getTax(m_baseWage+m_extraWage);&#xD;
이부분은 이제 error가 발생하겠죠..&#xD;
&#xD;
Anyway,, 공통모쥴화 하기 위해서&#xD;
세금계산이 Pain in the ass입니다..&#xD;
.. 자 이제.. 어떻게 하는것이 최선의 방법일까요..&#xD;
단... 이것이 정답이다고 할수 있는 문제가 아닙니다.&#xD;
단지.. 여러가지 솔류션을 만들어 보자는 의미지요..&#xD;
나름대로의  솔류션을 올려주시고.. 토론해봅시다..&#xD;
main program에서 세금계산을 한후..&#xD;
그 금액을 PayCal class 에 전달하는 것은 제외 합시다.&#xD;
실제경우에는 훨씬 복잡하므로.. 이렇게 쉽지 않고..&#xD;
또한.. 제요지는..&#xD;
공통모쥴에서.. 어떻게.. 외부 함수를 &#xD;
의존관계(재컴파일) 없이 호출하는가에&#xD;
초첨을 두고 있습니다..&#xD;
좋은 의견들으 올려주세요..&#xD;
-신민용-&#xD;
&#xD;
&#xD;
&#xD;
&#xD;
</content>
    <postId>45C57AF2-09C6-425E-94D0-7DF8186B2954</postId>
    <pubDate>2001-10-15T00:00:00-04:00</pubDate>
    <title>Can you make Java Solution about this?</title>
</post>
