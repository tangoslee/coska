<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<post>
    <author>김형태</author>
    <comments/>
    <content>&lt;br&gt;수고 많으셨습니다. 보기도 좋네요. &lt;br&gt;그날 미팅에서 나온 내용이 다 들어가 있는 것 같습니다.&lt;br&gt;다음은 정리하신 것을 보고 몇가지 의문 및 제안 입니다.(혹시나 해서..)&lt;br&gt;&lt;br&gt;&lt;br&gt;1. CommandPacket.NewFilePath 가 추가되었군요. (알것 같기는 한데 어떤 용도인지 한번 더 설명 바랍니다.)&lt;br&gt;&lt;br&gt;&lt;br&gt;2. DataPacket.SeqNum이 string 인 이유는 뭔지 궁금해요. &lt;br&gt;&lt;br&gt;&lt;br&gt;3. Host class 의 member 가 없습니다. (혹시 ServerHost 와 ClientHost 의 base class 로 준비해 놓은 것은 아닌지...)&lt;br&gt;&lt;br&gt;&lt;br&gt;4. 다음 코드에서요, 화살표 부분(&amp;lt;--) 마이너스가 되는 일이 없어야 하는데요.&lt;br&gt;&amp;nbsp;&amp;nbsp; 그날 제가 IO팀쪽에서 레퍼런스 카운팅을 제안했을때, 제로가 된 레코드를 바로 삭제 하기로 했었던가요? 아니면 걍 놔두기로 했었는지 기억이 가물가물... &lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp; private void OnTransferCompleted(object sender, TranferCompletedEventArgs args)&lt;br&gt;&amp;nbsp;&amp;nbsp; {&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Guid evId = args.EventId;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; string path = args.Path;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; string ipAddress = args.IpAddress;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; string description = args.Descriptioin;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; // IMPORTANT) decrease the ref counter for this io event&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; lock(m_refCount)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; {&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; m_refCount--;&amp;nbsp;&amp;nbsp;&amp;lt;---- (요기에 마이너스가 되지 않도록 주의 필요)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ( 0 이 된 레코드는 IO팀에서 삭제를 바로하는 게 어떨까요? )&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; }&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; ...&lt;br&gt;&amp;nbsp;&amp;nbsp; }&lt;br&gt;&lt;br&gt;&lt;br&gt;5. ResSuccessPacket class 와 ResErrorPacket class 이전에 ResponsePacket 이란 걸 두면 어떨지? (Responce 로 넘어오는 패킷을 까 봐서 error 인지 success 인지 판별하는 게 나을 듯 합니다. 안 그러면, 전달되어 온 패킷의 type를 가지고 판단해야 하는데... )&lt;br&gt;&lt;br&gt;또 한가지 CommandPacket과 DataPacket를 클래스로 구분하지 말고 동일한 패킷 클래스 내에서 PacketType만 다르게 하면 다른 문제가 있나요? (제 생각엔 더 나을 것 같은데...) &lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;6. ServerHost 에는 member 가 없습니다. 우리가 얘기할 때 1.0 에서는 그냥 만들어만 놓는다고 했었던 거 같기두 합니다만... 거기에 어떤 data가 실리는지 한번 다시 얘기해 봤으면 해요.&lt;br&gt;&lt;br&gt;&lt;br&gt;7. TransferRecordTable 안에 ClientHostTable 을 다시 두기 보다는 그냥 static으로 잡아서 사용하면 어떨지? 매번 생성하기에는 약간 낭비, 다른 대안이 없을까요?&lt;br&gt;&lt;br&gt;&lt;br&gt;다시 한번 수고 많으셨구요. &lt;br&gt;지금 위에 사항들은 옮고 그른 것이 전혀 아니라 &lt;br&gt;몇가지 다름 생각을 한번 점검해 봤으면 해서 올립니다.&lt;br&gt;감사합니다.&lt;br&gt;&lt;br&gt;다음 미팅에선 더 빠르게 진행될 것 같군요. &lt;br&gt;저도 기대할께요. ^^&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&amp;gt;안녕하세요? &lt;br&gt;&amp;gt;네트맨 팀장 최봉준입니다.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;결과를 정리해서 올린다는 게 좀 늦었군요.&lt;br&gt;&amp;gt;참석자: 양재호, 박재홍, 김형태, 최봉준&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;아직도 많은 부분에 대한 설계가 끝나진 않았지만, 파일팀을 위한 클래스 설계가 어느정도 되었습니다. 일단 첨부 파일로 Document Help 파일과 파일IO팀을 위한 클래스 Diagram을 올렸습니다.&lt;br&gt;&amp;gt;이해가 잘 안되실 것 같긴 하지만, 제 나름대로 정리해봤습니다.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;1. 파일IO팀 큐 설계 수정 논의 부탁- 현재 파일 모듈에서 구현하신 큐에 Reference Counter 필드를 첨가해주셨으면 합니다. 네트워크 클래스의 메쏘드를 호출한 후 반환된 클라이언트 수로 초기화를 하고 네트워크 클래스에서 메쏘드에 대한 결과가 이벤트로 전해지면 1씩 줄여줍니다. 총 이벤트 발생수는 초기 클라이언트 수와 동일하며 이 필드의 값이 0가 되면 (즉 클라이언트 수만큼 이벤트가 발생하면) 큐에서 자연적으로 삭제되도록 설계를 해주셨으면 합니다. &lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;2. 파일팀 관련 클래스 설계&lt;br&gt;&amp;gt;A. Document를 보시면 아시겠지만, 파일팀에서 주로 액세스할 클래스들은 다음과 같습니다.&lt;br&gt;&amp;gt;* NetFileSystem Class - abstract 클래스로 NetFile과 NetDirectory 클래스의 상위클래스입니다.&lt;br&gt;&amp;gt;* NetFile - 파일관련 클래스 : &lt;br&gt;&amp;gt;* NetDirectory - 디렉토리관련 클래스&lt;br&gt;&amp;gt;멤버함수들(Create, Delete, ....)은 모두 Asynchronous하게 동작하며 결과는 아래의 event를 통해서 알려줍니다. 또한 함수결과값으로는 현재 연결된 클라이언트 수를 반환합니다.&lt;br&gt;&amp;gt;파일모듈에서는 반환된 클라이언트수를 큐에 있는 Reference counter에 저장을 주세요.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;B. 관련 Event&lt;br&gt;&amp;gt;위 클래스를 호출한 뒤 네트웍 전송이 끝나면 &lt;br&gt;&amp;gt;TransferCompleted(TransferCompletedEventArgs)&lt;br&gt;&amp;gt;TransferFailed(TransferFailedEventArgs)&lt;br&gt;&amp;gt;각 이벤트가 호출될때마다 큐에 저장되어 있는 Reference counter를 1만큼 감소시켜 주세요. 만일 이 counter값이 0이되면 큐에서 삭제할 수 있습니다.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;아무래도 의문이 많으실 것 같아 이번주 쯤해서 다시 네트맨 팀과 파일 IO팀간에 조인트 미팅을 갖는 게 어떨까 하는데요.&lt;br&gt;&amp;gt;안되면 제가 파일팀장님과 만나서 상의를 해도 되구요.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;여하튼 제가 파일팀장님께 연락을 드리도록 하겠습니다.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;그리고, 네트맨 팀 여러분들께서도 Documentation를 한번 검토해보시고 문의점이나 권고사항이 있으면 알려주세요.&lt;br&gt;&amp;gt;감사합니다.&lt;br&gt;</content>
    <postId>F8EE411E-DE34-436D-A850-2F7D6574DBCB</postId>
    <pubDate>2005-10-15T00:00:00-04:00</pubDate>
    <title>[re] [네트맨] 모임결과-파일팀 참고해주세요.</title>
</post>
